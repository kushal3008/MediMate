{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block content %}
    <div class="css-curve-bg"></div>
    <div class="curve-title">MediMate</div>
    <div class="container">
        <div class="form-container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="chemist">Chemist</button>
                <button class="tab-btn" data-tab="doctor">Doctor</button>
            </div>
            <div class="form-content">
                <!-- Chemist Sign In Form -->
                <form id="chemist-form" method="POST" action="{{ url_for('login') }}" class="form active">
                    <h2>Chemist Login</h2>
                    <input type="hidden" name="user_type" value="chemist">
                    <div class="form-group">
                        <input type="text" name="chemist_email" id="chemist-email" required>
                        <label for="chemist-email">Email</label>
                    </div>
                    <div class="form-group">
                        <input type="password" name="chemist_password" id="chemist-password" required>
                        <label for="chemist-password">Password</label>
                        <button type="button" class="show-password-btn" onclick="togglePassword('chemist-password', this)" aria-label="Show password">
                          <span class="eye-icon">
                            <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/><circle cx="12" cy="12" r="3"/></svg>
                            <svg class="eye-closed" style="display:none;" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.81 21.81 0 0 1 5.06-6.06"/><path d="M1 1l22 22"/><path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"/></svg>
                          </span>
                        </button>
                    </div>
                    <button type="submit" class="submit-btn">Login</button>
                    <p class="switch-form">Don't have an account? <a href="{{ url_for('signup') }}">Sign Up</a></p>
                </form>
                <!-- Doctor Sign In Form -->
                <form id="doctor-form" method="POST" action="{{ url_for('login') }}" class="form">
                    <h2>Doctor Login</h2>
                    <input type="hidden" name="user_type" value="doctor">
                    <div class="form-group">
                        <input type="email" name="doctor_email" id="doctor-email" required>
                        <label for="doctor-email">Email</label>
                    </div>
                    <div class="form-group">
                        <input type="password" name="doctor_password" id="doctor-password" required>
                        <label for="doctor-password">Password</label>
                        <button type="button" class="show-password-btn" onclick="togglePassword('doctor-password', this)" aria-label="Show password">
                          <span class="eye-icon">
                            <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/><circle cx="12" cy="12" r="3"/></svg>
                            <svg class="eye-closed" style="display:none;" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.81 21.81 0 0 1 5.06-6.06"/><path d="M1 1l22 22"/><path d="M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"/></svg>
                          </span>
                        </button>
                    </div>
                    <button type="submit" class="submit-btn">Login</button>
                    <p class="switch-form">Don't have an account? <a href="{{ url_for('signup') }}">Sign Up</a></p>
                </form>
            </div>
        </div>
    </div>
    <script src="/javascript/script.js"></script>
    <script>
      window.togglePassword = function(inputId, btn) {
        const input = document.getElementById(inputId);
        const eyeOpen = btn.querySelector('.eye-open');
        const eyeClosed = btn.querySelector('.eye-closed');
        if (input.type === 'password') {
          input.type = 'text';
          eyeOpen.style.display = 'none';
          eyeClosed.style.display = 'inline';
        } else {
          input.type = 'password';
          eyeOpen.style.display = 'inline';
          eyeClosed.style.display = 'none';
        }
      }
    </script>
{% endblock %}